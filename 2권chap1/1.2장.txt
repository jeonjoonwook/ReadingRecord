1.2 IoC/DI를 위한 빈 설정 메타 정보

-컨테이너는 빈 설정 메타 정보를 통해 빈의 클래스와 이름을 제공 받는다. 빈을 만들기 위한 설정 메타 정보는
파일이나 애노테이션 같은 리소스로부터 전용 리더를 통해 읽혀서 BeanDefinition 타입의 오브젝트로 변환
- BeanDefinition 정보를 IoC 컨테이너가 활용
- xml, 애노테이션, java 코드를 통해 메타 정보를 만든다.

빈 설정 메타 정보
 - BeanDefinition에는 IoC 컨테이너가 빈을 만들때 필요한 핵심 정보가 담겨 있음
 - 컨테이너에 빈의 메타정보가 등록될때 꼭 필요한건 클래스 이름과, 빈의 아이디 혹은 이름

xml 을 이용한 빈 등록
  - <bean>사용 
  - 의미가 잘 드러나는 네임스페이스와 태그를 가진 설정 방법 사용 ex)<aop-pointcut>

자동 인식을 이용한 빈 등록
 - 빈으로 사용될 클래스에 @Component 같은것을 부여하면 이런 클래스를 자동으로 찾아 빈 등록
 - 스캐너가 스캐닝 작업을 하여 빈 등록함
 - AnnotationConfigApplicationContext는 빈 스캐너 내장
 - @Repository , @Sercive, @Controller도 컴포넌트 스캔 대상임

자바 코드를 활용 빈 등록
 - @Configuration 애노테이션이 달린 클래스를 이용해 빈 설정 메타정보를 담는 클래스 작성
 - @Bean 활용해서 빈 정의
 - @Configuration의 디폴트인 싱글톤 빈이라면 한개의 오브젝트만 생성
 - @Configuration이 붙지 않으면 싱글톤을 보장받지 못한다.

빈 의존관계 설정 방법
 - DI 대상을 선정하는 방법은 구체적인 빈을 지정하는 방법과 일정한 규칙에 따라 자동으로 선정하는 방법이 있음
 - 자동 와이어링에는 이름을 사용하는 자동 와이어링과 타입을 사용하는 자동 와이어링이 있음
 
 XML
  - 수정자를 통해 의존관계의 빈을 주입하려면 <property>태그 이용
  - 생성자를 통해 주입하려면 <constructor-arg> 태그 이용
 
 @Resource
  - 주입할 빈을 아이디로 지정하는 방법이다. 
  - 자바 클래스의 수정자 뿐만아니라 필드에도 붙일 수 있음
  - DI 할 빈을 찾을 수 없으면 예외 발생
  - 빈 이름을 통해 찾지 못하면 타입을 이용해 다시 빈을 찾기도 함

@Autowired
  - 생성자, 필드, 수정자 메소드, 일반 메소드를 통해 주입 가능
  - 같은 타입의 빈이 하나 이상 존재하면 그 빈들을 모두 DI 받음
  - Qualifier는 빈 이름과 별도로 추가적인 메타 정보를 지정해서 의미를 부여해놓고 이를 @Autowired에서 사용
  - 이름을 이용해 빈을 지정하고 싶으면 @Resource 사용, 타입과 한정자를 활용하고 싶을 때는 @Autowired사용

자바 코드에 의한 의존관계 설정
 - @Autowired, @Resource : 빈은 자바 코드에 의해 생성되지만 의존관계는 빈 클래스의 애노테이션 이용
 - @Configuration과 @Bean을 사용하는 자바 코드 설정 방식의 기본은 메소드로 정의된 다른 빈을 메소드 호출을 통해 참조
 